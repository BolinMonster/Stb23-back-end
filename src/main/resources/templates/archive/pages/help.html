<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <title>STB23 | Accueil</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous" />
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM" crossorigin="anonymous"></script>

    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css"
      integrity="sha512-iecdLmaskl7CVkqkXNQ/ZH/XLlvWZOJyj7Yy7tcenmpD1ypASozpmT/E0iPtmFIB46ZmdtAc9eNBvH0H/ZpiBw=="
      crossorigin="anonymous"
      referrerpolicy="no-referrer"
    />

    <link rel="stylesheet" type="text/css" th:href="@{/css/style.css}" />
  </head>
  <body>
    <main>
      <div th:insert="fragments/sidebar :: sidebar"></div>
	
	<div class="container m-2">
      <div class="input-group mb-2">
        <div class="input-group-prepend">
          <span class="input-group-text">Rechercher une requête</span>
        </div>
        <input type="text" id="myInput" class="form-control" />
      </div>
      <div class="table-responsive bg-light shadow-sm">
      <table id="myTable" class="table table-hover table-striped">
        <thead>
          <tr>
            <th scope="col">URL</th>
            <th scope="col">Méthode</th>
            <th scope="col">Résumé</th>
          </tr>
        </thead>
        <tbody>
          <tr th:each="operation : ${operations}">
            <td th:text="${operation.url}"></td>
            <td th:text="${operation.method}"></td>
            <td th:text="${operation.summary}"></td>
          </tr>
        </tbody>
      </table>
      </div>
     </div>
    </main>
    <div th:insert="fragments/footer :: footer"></div>

    <script>
      $(document).ready(function () {
        $("#myInput").on("keyup", function () {
          var value = $(this).val().toLowerCase();
          console.log(value);
          $("#myTable tbody tr").filter(function () {
            console.log($(this).text());
            $(this).toggle($(this).text().toLowerCase().indexOf(value) > -1);
          });
        });
      });
    </script>
  </body>
</html>
